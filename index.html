<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Electric Vehicles: Imperative or Over-Prioritized?</title>

    <link rel="stylesheet" href="css/styles.css" />

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <script src="https://unpkg.com/d3-simple-slider"></script>
</head>

<body>

    <div class="page-flex">

        <!-- Main Column -->
        <main class="main-pane">

            <div class="card">

                <!-- Page title -->
                <header class="ev-header">
                    <h1>Electric Vehicles: Imperative or Over-Prioritized?</h1>
                </header>

                <div id="vis" class="map-box"></div>

                <div id="controls" class="map-controls">

                    <div id="legend"></div>

                    <h3>Time</h3>
                    <p id="clock">00:00:00</p>

                    <div id="slider">
                        <h3>Year</h3>
                    </div>

                    <div class="btn-row">
                        <button class="button-4" onclick="start_simulation()">Start</button>
                        <button class="button-4" onclick="pause_simulation()">Pause</button>
                        <button class="button-4" onclick="play_simulation()">Play</button>
                        <button class="button-4" onclick="reset_simulation()">Reset</button>
                    </div>
                </div>

                <div class="chart-block">

                    <div id="vis2"></div>

                    <div class="chart-controls">
                        X:
                        <select id="xVariable"></select>
                        Y:
                        <select id="yVariable"></select>
                        Year:
                        <select id="yearVariable"></select>
                    </div>

                </div>

            </div>
        </main>

        <aside class="sidebar">

            <h1>Electric Vehicles: Imperative or Over-Prioritized?</h1>

            <p>As government fleets switch to electric, knowing when and where they
                charge is key to avoiding grid overload and ensuring fair access to
                charging stations. This dashboard uses modeled hourly demand profiles
                from the National Renewable Energy Laboratory (Singer et al. 2025) for
                federal, state, and municipal EV fleets. It shows average electricity
                use by state and county so you can spot regional peaks and compare
                different years.</p>

            <section id="intro">
                <h2>Introduction and Goals</h2>
                <p>Explore hourly and yearly patterns in government EV charging to help
                    planners and policy-makers identify where and when power demand is
                    highest.</p>
            </section>

            <section id="feature-map">
                <h2>Interactive Map</h2>
                <p>A U.S. map shaded from pale blue (low demand) to bright yellow (high
                    demand). Each state resets its own scale to highlight local
                    variation.</p>
            </section>

            <section id="feature-drilldown">
                <h2>Drill-Down & Zoom</h2>
                <p>Click a state to zoom in on its counties, all coloured with the same
                    scale. Drag or scroll to pan and zoom further, with borders staying
                    sharp.</p>
            </section>

            <section id="feature-clock">
                <h2>Time-of-Day Animation</h2>
                <p>A live clock (HH:MM:SS) runs beside the map. Press <em>Play</em> to
                    animate a full day in about ten seconds. The map updates each hour.
                    Use <em>Pause</em> or <em>Reset</em> to stop or restart the cycle.</p>
            </section>

            <section id="feature-year">
                <h2>Year Selector</h2>
                <p>Slide or choose a year (2023–2035) to see how charging patterns change
                    over time. The map and chart update instantly.</p>
            </section>

            <section id="feature-legend">
                <h2>Legend & Tooltips</h2>
                <p>A dynamic legend shows numerical steps of the blue-to-yellow scale.
                    Hover over any area to see a tooltip with its name, the current hour,
                    and demand in kW. Text below the map repeats this for screen
                    readers.</p>
            </section>

            <section id="feature-chart">
                <h2>Distribution Chart</h2>
                <p>Below the map, a bar chart gives a summary by state of how this demand translates into different variables. 
                    These are accumulated and divided by the x value: for example, if the x value is state size, and the y value is kwh per day, the bar chart would represent 
                    kwh per day for each sq. mile. The ratio of this is represented when you hover over each bar, as well as the given x and y values. Users are given the option to 
                    select from three variables: state area, number of chargers, and kwh demand per day.  
                </p>
            </section>

            <section id="feature-design">
                <h2>Interactions & Responsive Design</h2>
                <ul>
                    <li>Responsive layout: map and chart resize to fit any screen</li>
                    <li>Smooth transitions: updates fade in for easy tracking</li>
                    <li>Hover highlights: regions glow on hover for clarity</li>
                    <li>Clear pan & zoom: borders stay crisp even at 8× zoom</li>
                    <li>Unified controls: buttons and selectors share a consistent style</li>
                </ul>
            </section>

            <section id="team">
                <h2>Team & Roles</h2>
                <ul>
                    <li>Justin Pham cleaned all the datasets from 2023 through 2035 and converted the hex data in all
                        the files into geographical data. Each data set increased to about 14,000 datapoints from 4,500
                        datapoints
                        (for 13 different datasets). Justin also created the map outline for the EV Demand Map as well
                        as
                        the bar graph
                        below it. Moreover, Justin helped source the data for the bar graph.
                    </li>
                    <li> Aryan Bhupalam made the all the datasets compatible with the map so the data was shown properly
                        for each state and county. Aryan also created a color scale that would change based upon the
                        georgraphical region being clicked and the timeframe in the simulation. Aryan was responsible
                        for the style
                        elements of the webpage.
                    </li>
                    <li>Muhammad Ramamni sourced the data, wrote this narrative, proofread everything,
                        and guided the project to a polished finish.</li>

                </ul>
            </section>

            <section>
                <h2>Acknowledgements</h2>
                
                    <p>
                        The state EV dataset is taken from NREL's data catalog. 
                        "Modeled Electricity Demand Profiles for Federal, State, and Municipal Electric Vehicle Fleets in the United States"
                        The data is created with regards to: federal, state, and local, electric vehicle needs per county and city.
                    </p>
                    <br>
                    <p>
                        In order to transform the h3 hex into usable data to be mapped to d3's JSON, our team used Uber's h3 bindings to map them.
                    </p>
                    
                
            </section>


        </aside>
    </div>

    <div id="tooltip" style="display:none"></div>
    <div id="tooltip2" style="display:none"></div>
    <div id="tooltip3" style="display:none"></div>

    <script src="js/script.js"></script>
</body>

</html>
